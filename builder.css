/* Builder Styles */
:root {
    --bg-primary: #0a0a0a;
    --bg-secondary: #141414;
    --bg-tertiary: #1e1e1e;
    --bg-panel: #161616;
    --text-primary: #ffffff;
    --text-secondary: #888;
    --accent-primary: #6366f1;
    --accent-secondary: #818cf8;
    --accent-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    --border-color: #2a2a2a;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    --canvas-bg: #f5f5f5;
    --shadow-sm: 0 2px 8px rgba(0,0,0,0.3);
    --shadow-md: 0 4px 20px rgba(0,0,0,0.4);
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 14px;
    --transition: all 0.15s ease;
    --panel-width: 280px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', -apple-system, sans-serif; background: var(--bg-primary); color: var(--text-primary); overflow: hidden; }
.builder-container { display: flex; flex-direction: column; height: 100vh; }

.top-toolbar { height: 56px; background: var(--bg-secondary); border-bottom: 1px solid var(--border-color); display: flex; align-items: center; justify-content: space-between; padding: 0 16px; z-index: 100; }
.toolbar-left, .toolbar-center, .toolbar-right { display: flex; align-items: center; gap: 12px; }

.back-btn { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; background: var(--bg-tertiary); border-radius: var(--radius-sm); color: var(--text-secondary); text-decoration: none; transition: var(--transition); }
.back-btn:hover { background: var(--accent-primary); color: white; }

.project-name { display: flex; align-items: center; gap: 8px; }
.project-name input { background: none; border: none; color: var(--text-primary); font-size: 1rem; font-weight: 600; width: 200px; padding: 4px 8px; border-radius: var(--radius-sm); transition: var(--transition); }
.project-name input:hover { background: var(--bg-tertiary); }
.project-name input:focus { background: var(--bg-tertiary); outline: none; }
.project-name .edit-icon { color: var(--text-secondary); font-size: 0.75rem; opacity: 0; transition: var(--transition); }
.project-name:hover .edit-icon { opacity: 1; }

.device-switcher { display: flex; background: var(--bg-tertiary); border-radius: var(--radius-md); padding: 4px; }
.device-btn { width: 40px; height: 32px; display: flex; align-items: center; justify-content: center; background: none; border: none; color: var(--text-secondary); cursor: pointer; border-radius: var(--radius-sm); transition: var(--transition); }
.device-btn:hover { color: var(--text-primary); }
.device-btn.active { background: var(--accent-gradient); color: white; }

.zoom-controls { display: flex; align-items: center; gap: 4px; background: var(--bg-tertiary); border-radius: var(--radius-md); padding: 4px; }
.zoom-btn { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; background: none; border: none; color: var(--text-secondary); cursor: pointer; border-radius: var(--radius-sm); transition: var(--transition); }
.zoom-btn:hover { background: var(--border-color); color: var(--text-primary); }
.zoom-level { font-size: 0.8rem; color: var(--text-secondary); min-width: 45px; text-align: center; }

.toolbar-btn { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; background: none; border: none; color: var(--text-secondary); cursor: pointer; border-radius: var(--radius-sm); transition: var(--transition); }
.toolbar-btn:hover { background: var(--bg-tertiary); color: var(--text-primary); }
.toolbar-divider { width: 1px; height: 24px; background: var(--border-color); }

.btn { display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px; border-radius: var(--radius-sm); font-weight: 500; font-size: 0.875rem; cursor: pointer; border: none; transition: var(--transition); }
.btn-primary { background: var(--accent-gradient); color: white; }
.btn-primary:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3); }
.btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); }
.btn-sm { padding: 6px 12px; font-size: 0.8rem; }

.editor-main { display: flex; flex: 1; overflow: hidden; }

.left-panel { width: var(--panel-width); background: var(--bg-panel); border-right: 1px solid var(--border-color); display: flex; flex-direction: column; overflow: hidden; }
.panel-tabs { display: flex; border-bottom: 1px solid var(--border-color); }
.panel-tab { flex: 1; padding: 14px 8px; background: none; border: none; color: var(--text-secondary); cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 4px; font-size: 0.7rem; transition: var(--transition); border-bottom: 2px solid transparent; }
.panel-tab i { font-size: 1.1rem; }
.panel-tab:hover { color: var(--text-primary); background: var(--bg-tertiary); }
.panel-tab.active { color: var(--accent-primary); border-bottom-color: var(--accent-primary); }

.panel-content { flex: 1; overflow-y: auto; display: none; }
.panel-content.active { display: block; }

.panel-search { padding: 12px; display: flex; align-items: center; background: var(--bg-tertiary); margin: 12px; border-radius: var(--radius-sm); border: 1px solid var(--border-color); }
.panel-search i { color: var(--text-secondary); margin-right: 8px; font-size: 0.85rem; }
.panel-search input { flex: 1; background: none; border: none; color: var(--text-primary); font-size: 0.85rem; outline: none; }

.blocks-categories { padding: 0 12px 12px; }
.category { margin-bottom: 16px; }
.category-header { font-size: 0.75rem; font-weight: 600; color: var(--text-secondary); padding: 8px 4px; display: flex; align-items: center; gap: 8px; text-transform: uppercase; letter-spacing: 0.5px; }
.blocks-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }

.block-item { background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: var(--radius-sm); padding: 8px; cursor: grab; transition: var(--transition); text-align: center; }
.block-item:hover { border-color: var(--accent-primary); background: rgba(99, 102, 241, 0.1); }
.block-item:active { cursor: grabbing; }
.block-preview { height: 40px; background: var(--bg-secondary); border-radius: 4px; margin-bottom: 6px; overflow: hidden; }
.block-item span { font-size: 0.65rem; color: var(--text-secondary); }

.hero-preview { background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); }
.navbar-preview { background: var(--bg-secondary); border-bottom: 2px solid var(--accent-primary); }
.footer-1-preview { background: #1a1a2e; }

.elements-list { padding: 12px; display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }
.element-item { display: flex; align-items: center; gap: 10px; padding: 12px; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: var(--radius-sm); cursor: grab; transition: var(--transition); }
.element-item:hover { border-color: var(--accent-primary); background: rgba(99, 102, 241, 0.1); }
.element-item i { color: var(--accent-primary); width: 20px; text-align: center; }
.element-item span { font-size: 0.8rem; }

.media-upload-area { margin: 12px; padding: 30px; border: 2px dashed var(--border-color); border-radius: var(--radius-md); text-align: center; cursor: pointer; transition: var(--transition); }
.media-upload-area:hover { border-color: var(--accent-primary); background: rgba(99, 102, 241, 0.05); }
.media-upload-area i { font-size: 2rem; color: var(--accent-primary); margin-bottom: 8px; }
.media-upload-area p { font-size: 0.8rem; color: var(--text-secondary); }

.media-tabs { display: flex; padding: 0 12px; border-bottom: 1px solid var(--border-color); }
.media-tab { padding: 10px 16px; background: none; border: none; color: var(--text-secondary); cursor: pointer; font-size: 0.85rem; border-bottom: 2px solid transparent; transition: var(--transition); }
.media-tab:hover { color: var(--text-primary); }
.media-tab.active { color: var(--accent-primary); border-bottom-color: var(--accent-primary); }

.media-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; padding: 12px; }
.media-item { aspect-ratio: 1; background: var(--bg-tertiary); border-radius: var(--radius-sm); overflow: hidden; cursor: pointer; border: 2px solid transparent; transition: var(--transition); }
.media-item:hover { border-color: var(--accent-primary); }
.media-item img { width: 100%; height: 100%; object-fit: cover; }

.stock-photos { padding: 12px; border-top: 1px solid var(--border-color); }
.stock-photos h4 { font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 12px; }
.stock-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }

.canvas-area { flex: 1; background: var(--bg-primary); display: flex; flex-direction: column; position: relative; overflow: hidden; }
.canvas-scroll { flex: 1; overflow: auto; padding: 40px; display: flex; justify-content: center; }
.canvas-wrapper { transition: transform 0.2s ease; }

.canvas { width: 1200px; min-height: 800px; background: var(--canvas-bg); border-radius: var(--radius-md); box-shadow: 0 0 0 1px rgba(0,0,0,0.1), var(--shadow-lg); overflow: hidden; transition: width 0.3s ease; }
.canvas.laptop { width: 1024px; }
.canvas.tablet { width: 768px; }
.canvas.mobile { width: 375px; }

.canvas-drop-zone { min-height: 400px; display: flex; align-items: center; justify-content: center; border: 2px dashed #ccc; margin: 40px; border-radius: var(--radius-lg); transition: var(--transition); }
.canvas-drop-zone.drag-over { border-color: var(--accent-primary); background: rgba(99, 102, 241, 0.05); }
.drop-zone-content { text-align: center; color: #999; }
.drop-zone-content i { font-size: 3rem; margin-bottom: 16px; }
.drop-zone-content p { font-size: 1rem; }

.canvas-block { position: relative; transition: var(--transition); cursor: pointer; }
.canvas-block:hover { outline: 2px solid var(--accent-primary); outline-offset: -2px; }
.canvas-block.selected { outline: 2px solid var(--accent-primary); outline-offset: -2px; }

.block-toolbar { position: absolute; top: -40px; left: 50%; transform: translateX(-50%); display: none; gap: 4px; background: var(--bg-secondary); padding: 4px; border-radius: var(--radius-sm); box-shadow: var(--shadow-md); z-index: 10; }
.canvas-block:hover .block-toolbar, .canvas-block.selected .block-toolbar { display: flex; }

.block-tool-btn { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; background: none; border: none; color: var(--text-secondary); cursor: pointer; border-radius: 4px; transition: var(--transition); }
.block-tool-btn:hover { background: var(--bg-tertiary); color: var(--text-primary); }
.block-tool-btn.danger:hover { background: var(--danger); color: white; }

.resize-handle { position: absolute; width: 10px; height: 10px; background: var(--accent-primary); border: 2px solid white; border-radius: 50%; display: none; }
.canvas-block.selected .resize-handle { display: block; }
.resize-handle.top-left { top: -5px; left: -5px; cursor: nwse-resize; }
.resize-handle.top-right { top: -5px; right: -5px; cursor: nesw-resize; }
.resize-handle.bottom-left { bottom: -5px; left: -5px; cursor: nesw-resize; }
.resize-handle.bottom-right { bottom: -5px; right: -5px; cursor: nwse-resize; }

.page-navigator { position: absolute; left: 20px; bottom: 20px; display: flex; gap: 8px; background: var(--bg-secondary); padding: 8px; border-radius: var(--radius-md); box-shadow: var(--shadow-md); }
.page-thumb { width: 40px; height: 56px; background: var(--bg-tertiary); border: 2px solid var(--border-color); border-radius: var(--radius-sm); display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 0.8rem; color: var(--text-secondary); transition: var(--transition); }
.page-thumb:hover { border-color: var(--text-secondary); }
.page-thumb.active { border-color: var(--accent-primary); color: var(--accent-primary); }
.add-page-btn { width: 40px; height: 56px; background: none; border: 2px dashed var(--border-color); border-radius: var(--radius-sm); color: var(--text-secondary); cursor: pointer; transition: var(--transition); }
.add-page-btn:hover { border-color: var(--accent-primary); color: var(--accent-primary); }

.right-panel { width: var(--panel-width); background: var(--bg-panel); border-left: 1px solid var(--border-color); display: flex; flex-direction: column; overflow: hidden; }
.panel-header { padding: 16px; border-bottom: 1px solid var(--border-color); }
.panel-header h3 { font-size: 0.9rem; font-weight: 600; }
.properties-content { flex: 1; overflow-y: auto; padding: 16px; }

.property-group { margin-bottom: 24px; }
.property-group h4 { font-size: 0.75rem; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 12px; }
.property-item { margin-bottom: 16px; }
.property-item label { display: block; font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 6px; }

.prop-input, .prop-textarea, .prop-select { width: 100%; padding: 10px 12px; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.85rem; transition: var(--transition); }
.prop-input:focus, .prop-textarea:focus, .prop-select:focus { outline: none; border-color: var(--accent-primary); }
.prop-textarea { resize: vertical; min-height: 80px; }

.color-picker-wrapper { display: flex; gap: 8px; }
.color-picker { width: 40px; height: 36px; padding: 0; border: none; border-radius: var(--radius-sm); cursor: pointer; overflow: hidden; }
.color-input { flex: 1; padding: 8px 12px; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.85rem; font-family: monospace; }

.bg-type-selector { display: flex; gap: 4px; background: var(--bg-tertiary); padding: 4px; border-radius: var(--radius-sm); }
.bg-type-btn { flex: 1; padding: 8px; background: none; border: none; color: var(--text-secondary); cursor: pointer; border-radius: 4px; font-size: 0.8rem; transition: var(--transition); }
.bg-type-btn:hover { color: var(--text-primary); }
.bg-type-btn.active { background: var(--accent-gradient); color: white; }

.color-scheme-presets { display: flex; gap: 8px; margin-bottom: 16px; }
.scheme-preset { display: flex; gap: 2px; padding: 4px; background: var(--bg-tertiary); border: 2px solid var(--border-color); border-radius: var(--radius-sm); cursor: pointer; transition: var(--transition); }
.scheme-preset:hover { border-color: var(--text-secondary); }
.scheme-preset.active { border-color: var(--accent-primary); }
.scheme-preset span { width: 16px; height: 16px; border-radius: 3px; }

.context-menu { position: fixed; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: var(--radius-md); padding: 6px; min-width: 180px; box-shadow: var(--shadow-lg); display: none; z-index: 1000; }
.context-menu.active { display: block; }
.context-item { display: flex; align-items: center; gap: 10px; padding: 10px 14px; border-radius: var(--radius-sm); cursor: pointer; font-size: 0.85rem; color: var(--text-primary); transition: var(--transition); }
.context-item:hover { background: var(--bg-tertiary); }
.context-item.danger:hover { background: var(--danger); color: white; }
.context-item i { width: 16px; color: var(--text-secondary); }
.context-item.danger i { color: inherit; }
.context-divider { height: 1px; background: var(--border-color); margin: 6px 0; }

.modal { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: none; align-items: center; justify-content: center; z-index: 1000; backdrop-filter: blur(4px); }
.modal.active { display: flex; }
.modal-content { background: var(--bg-secondary); border-radius: var(--radius-lg); width: 100%; max-width: 480px; max-height: 90vh; overflow: hidden; animation: modalSlide 0.2s ease; }
.modal-lg { max-width: 600px; }
@keyframes modalSlide { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

.modal-header { display: flex; justify-content: space-between; align-items: center; padding: 20px; border-bottom: 1px solid var(--border-color); }
.modal-header h2 { font-size: 1.1rem; }
.modal-close { width: 32px; height: 32px; background: var(--bg-tertiary); border: none; border-radius: 50%; color: var(--text-secondary); cursor: pointer; font-size: 1.25rem; transition: var(--transition); }
.modal-close:hover { background: var(--danger); color: white; }
.modal-body { padding: 20px; }
.modal-footer { display: flex; justify-content: flex-end; gap: 10px; padding: 16px 20px; border-top: 1px solid var(--border-color); }

.export-options { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 24px; }
.export-option { padding: 20px; background: var(--bg-tertiary); border: 2px solid var(--border-color); border-radius: var(--radius-md); text-align: center; cursor: pointer; transition: var(--transition); }
.export-option:hover { border-color: var(--text-secondary); }
.export-option.active { border-color: var(--accent-primary); background: rgba(99, 102, 241, 0.1); }
.export-option i { font-size: 2rem; color: var(--accent-primary); margin-bottom: 8px; }
.export-option h4 { margin-bottom: 4px; }
.export-option p { font-size: 0.8rem; color: var(--text-secondary); }

.export-settings h4 { margin-bottom: 12px; font-size: 0.9rem; }
.checkbox-label { display: flex; align-items: center; gap: 10px; padding: 10px 0; cursor: pointer; }
.checkbox-label input[type="checkbox"] { width: 18px; height: 18px; accent-color: var(--accent-primary); }

.image-tabs { display: flex; border-bottom: 1px solid var(--border-color); margin-bottom: 16px; }
.image-tab { padding: 10px 20px; background: none; border: none; color: var(--text-secondary); cursor: pointer; border-bottom: 2px solid transparent; transition: var(--transition); }
.image-tab:hover { color: var(--text-primary); }
.image-tab.active { color: var(--accent-primary); border-bottom-color: var(--accent-primary); }

.image-tab-content { display: none; }
.image-tab-content.active { display: block; }

.image-upload-zone { padding: 40px; border: 2px dashed var(--border-color); border-radius: var(--radius-md); text-align: center; cursor: pointer; transition: var(--transition); }
.image-upload-zone:hover { border-color: var(--accent-primary); background: rgba(99, 102, 241, 0.05); }
.image-upload-zone i { font-size: 3rem; color: var(--accent-primary); margin-bottom: 12px; }

.library-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; max-height: 300px; overflow-y: auto; }
.library-item { aspect-ratio: 1; background: var(--bg-tertiary); border-radius: var(--radius-sm); overflow: hidden; cursor: pointer; border: 2px solid transparent; transition: var(--transition); }
.library-item:hover { border-color: var(--accent-primary); }
.library-item.selected { border-color: var(--accent-primary); }
.library-item img { width: 100%; height: 100%; object-fit: cover; }

.form-input { width: 100%; padding: 12px; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.9rem; }
.form-input:focus { outline: none; border-color: var(--accent-primary); }

::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

.dragging { opacity: 0.5; }
.drop-indicator { height: 4px; background: var(--accent-primary); border-radius: 2px; margin: 4px 0; }
